
@{
    ViewBag.Title = "Part1";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script>
    //总页数
    var pagetotal = 10;
    $(function () {
        //for (var i = 1; i <= pagetotal; i++) {
        //    var ref = showPages(i, pagetotal)
        //    console.info(ref);
        //}
        //显示第几页，总页数
        $("#page").append(showPages(1, pagetotal))
    })

    //生成分页HTML样式代码
    function showPages(pageindex, pagetotal) {
        var str = "";
        var pre = '<li><a href="javascript:changePage(' + (pageindex - 1) + ')" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>', next = '<li><a href="javascript:changePage(' + (pageindex + 1) + ')" aria-label="Previous"><span aria-hidden="true">&raquo;</span></a></li>';

        if (pageindex <= 3) {
            for (var i = 1; i <= 5; i++) {
                str += '<li class=\"' + (i == pageindex ? 'active' : '') + '\"><a href="javascript:changePage(' + i + ')">' + i + '</a></li>';
            }
            str = str + next;
        } else if (pageindex >= (pagetotal - 4)) {
            for (var i = (pagetotal - 4) ; i <= pagetotal; i++) {
                str += '<li class=\"' + (i == pageindex ? 'active' : '') + '\"><a href="javascript:changePage(' + i + ')">' + i + '</a></li>';
            }
            str = pre + str;
        } else {
            for (var i = (pageindex - 2) ; i <= pageindex + 2; i++) {
                str += '<li class=\"' + (i == pageindex ? 'active' : '') + '\"><a href="javascript:changePage(' + i + ')">' + i + '</a></li>';
            }
            str = pre + str + next;
        }
        return '<ul class="pagination">' + str + '</ul>';
    }

    //页数点击事件
    function changePage(i) {
        $("#page").html('');
        $("#page").append(showPages(i, pagetotal))
    }

    //function showPages(page, total) {
    //    var str = "";
    //    var pre = "< ", next = " >";
    //    if (page <= 3) {
    //        for (var i = 1; i <= 5; i++) {
    //            str += i == page ? "<a>" + page + "<a/> " : i + " ";
    //        }
    //        return str + next;
    //    } else if (page >= 96) {
    //        for (var i = 96; i <= total; i++) {
    //            str += i == page ? "<a>" + page + "<a/> " : i + " ";
    //        }
    //        return pre + str;
    //    } else {
    //        for (var i = (page - 2) ; i <= page + 2; i++) {
    //            str += i == page ? "<a>" + page + "<a/> " : i + " ";
    //        }
    //        return pre + str + next;
    //    }
    //}
    //function showPages(page, total) {
    //    var str = page + '';
    //    for (var i = 1; i <= 3; i++) {
    //        if (page - i > 1) {
    //            str = page - i + ' ' + str;
    //        }
    //        if (page + i < total) {
    //            str = str + ' ' + (page + i);
    //        }
    //    }
    //    if (page - 4 > 1) {
    //        str = '... ' + str;
    //    }
    //    if (page > 1) {
    //        str = '上一页 ' + 1 + ' ' + str;
    //    }
    //    if (page + 4 < total) {
    //        str = str + ' ...';
    //    }
    //    if (page < total) {
    //        str = str + ' ' + total + ' 下一页';
    //    }
    //    return str;
    //}
</script>

<div class="container">
    <h3>Bootstrap分页样式(无事件)</h3>
    <ul class="pagination">
        @*<li>
            <a href="#" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>*@
        <li><a href="#">1</a></li>
        <li><a href="#">2</a></li>
        <li class="active"><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">5</a></li>
        <li>
            <a href="#" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
    </ul>

    <h3>简单前端分页效果：</h3>
    <div id="page"></div>
</div>

